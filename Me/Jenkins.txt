- Jenkins - It is an automation tool used to build, test, and deploy applications automatically. (Default Port: 8080). (Default Location: /var/lib/Jenkins).
 - Prerequisite: JAVA.
 - Jenkins works using REST APIs to communicate and automate tasks.
 - Build executors are Jenkins workers that execute jobs, one job per executor.
 - Jenkins assigns jobs to any available executor, usually skipping the first one reserved for internal tasks. Jenkins keeps the first executor free and uses it only when all other executors are busy.
 - An Atom feed in Jenkins provides real-time updates about job and build activities.
 - The number of executors depends on how many jobs run in parallel and the server‚Äôs CPU and memory.

- CI (Continuous Integration): Code changes are tested automatically.

- CD (Continuous Delivery/Deployment): Tested code is automatically released.

- User
  |
  v
 GitHub  -->  Jenkins  -->  Artifact Repo / Nexus / JFrog  -->  AWS EC2  -->  Tomcat
              |    |
              |    +--> SonarQube
              |
              +--> Maven

- Explanation:
	- Code goes to GitHub.
	- Jenkins builds and checks it.
	- Built file is stored in Artifactory / Nexus / JFrog.
	- App is deployed to AWS EC2.
	- Tomcat runs the app.

- Maven ‚Üí Builds the app.
- Jenkins ‚Üí Automates the whole process.
- SonarQube ‚Üí Checks code quality.
- Artifact Repo ‚Üí Stores built files.
- Artifact ‚Üí Final built file (like .jar or .war).
- EC2 ‚Üí Cloud server.
- Tomcat ‚Üí Runs the app. 

- Plugin is a small add-on that adds extra features to a tool. Plugins help Jenkins connect to GitHub, Maven, AWS, SonarQube, etc. Without plugins, Jenkins can‚Äôt talk to other tools.

- Jenkins supports Freestyle, Pipeline, and Multibranch jobs to automate different kinds of tasks.
	- Plugin-based Jobs (UI based) ‚Üí Click and configure.
	 - Freestyle Job ‚Üí Basic job to run commands.
	 - Folder Job ‚Üí Organizes jobs neatly.
	 - External Job ‚Üí Tracks jobs run outside Jenkins.
	
	- Pipeline-based Jobs (Code based) ‚Üí Write steps as code.
	 - Pipeline Job ‚Üí Step-by-step automated process.
	 - Multibranch Pipeline ‚Üí Runs jobs for each Git branch.

- Labels in Jenkins are used to control which node a job runs on.
 - Label ‚Üí A name or tag (example: linux, dev).
 - Node ‚Üí A machine connected to Jenkins (server/VM).
 - Job ‚Üí A task Jenkins runs (build, test, deploy).
 - Run ‚Üí When the job is actually executed.
- Labels are tags that tell Jenkins which machine should run a job.

- To connect multiple nodes(machines/instances) to Jenkins:
 - Launch another server (EC2 / VM).
 - Install Java on it. (On the main server ‚Üí Install Jenkins + Java)(On other nodes (instances) ‚Üí Install only Java)
 - Go to Jenkins ‚Üí Manage Nodes.
 - Add new node.
	- Remote root directory - /home/ec2-user
 - Connect it (SSH is common).
	-Slave Machine :
	 - Install Java
	 - Create ssh-keygen
	 - cat id_rsa.pub > authorized_keys
	 - chmod 700 authorized_keys
	- Master Machine:
	- sudo su 
	- mkdir -p /var/lib/Jenkins/.ssh
	- ssh-keyscan -H public-ip >>/var/lib/jenkins/.ssh/known_hosts
	- chown ec2-user:ec2-user known_hosts
	- chmod 777 known_hosts
 - Set labels and executors.

- Jenkins weather icons show job health based on recent build success and failures.
 - ‚òÄÔ∏è Sunny ‚Üí All recent builds successful.
 - üå§Ô∏è Partly Cloudy ‚Üí Mostly successful, few failures.
 - ‚òÅÔ∏è Cloudy ‚Üí Equal mix of success and failure.
 - üåßÔ∏è Rainy ‚Üí Mostly failures.
 - ‚õàÔ∏è Stormy ‚Üí Almost all builds failing.

- Role based authorization plugin - to create different users in different roles.

- A Git hook is a script that runs automatically when certain Git actions occur.

- Build triggers decide when a Jenkins job should start. Triggers decide the right time to build, test, or deploy.

- GitHub trigger for Git SCM Polling.
	- Jenkins checks GitHub again and again to see if code changed. If code changed ‚Üí Jenkins starts the build.
	- GitHub does NOT notify Jenkins.
	- Jenkins keeps asking GitHub: ‚ÄúAny change?‚Äù.
	- This is used when webhooks are not allowed.
	- Slower than webhooks.
- How it works:
	- Jenkins waits for a fixed time (example: every 5 minutes).
	- Jenkins checks GitHub for new code.
	- If code changed ‚Üí build starts.
	- If no change ‚Üí nothing happens.

- A webhook is a way for one system to instantly notify another system when an event happens. It lets GitHub tell Jenkins immediately when code changes.
 	- Developer pushes code to GitHub.
	- GitHub sends a webhook message.
	- Jenkins receives the message.
	- Jenkins starts the job.
- Only for Development Environment not Production.

- Poll SCM means Jenkins checks the code repository again and again.If code changed ‚Üí Jenkins starts the build. It is done using the cronjob code.
	- Slower than webhooks.
	- It is used when Jenkins cannot be exposed to the internet.

- Build periodically runs a Jenkins job on a fixed schedule, regardless of code changes.
	- It is used for Backup jobs, Nightly builds, Health checks, Report generation.
	- Poll SCM: Runs only if code changed but Build periodically: Runs always.

- An upstream job triggers one or more downstream jobs, forming a build pipeline in Jenkins.
	- Upstream Job - The first job in the flow. It starts other jobs. Upstream = parent job.
	- Downstream Job - The job that runs after another job. It depends on the upstream job. Downstream = child job.
	- Upstream job runs (example: build) ----> If it succeeds ----> Downstream job runs (example: deploy).

- Master‚ÄìSlave Architecture: In Jenkins, the master controls jobs and scheduling, while slaves (agents) execute the actual builds.
	- Jenkins is split into two types of machines. Master (main controller) and Slave (worker machine). ‚ÄúSlave‚Äù is also called Agent (new term).
	- Master manages Jenkins UI, decides which job runs where, stores job configs. Brain of Jenkins.
	- Slave actually runs the job, builds, tests, deploys code. Worker that does the work.
	- This architecture is used because it helps run jobs faster (parallel builds), reduce load on Master, use different OS or tools per agent.
- How it works:
	- Developer triggers a job.
	- Master receives the request.
	- Master assigns job to a Slave.
	- Slave runs the job.
	- Result is sent back to Master.

- Log Rotation: It means automatically managing old logs.Old logs are deleted or archived to save space.
	- Jenkins job ‚Üí Discard Old Builds.
	- Set: Number of builds to keep, Days to keep builds.

- Always have backups of Jenkins servers. (/var/lib/Jenkins).
	- tar -cvf backup.tar Jenkins
	- scp to backup drive.
	- Thin Backup Plugin.

- Jenkins-url/restart, will also help us restart Jenkins.

- To disable the security feature, edit config.xml and make use security as false.(Not Recommended)(Even if forgot password).
